{"type":"operationStart","subtype":"profile","data":{"_id":"9sVBI7a7JA4VrJle","timestamp":"2023-11-28T12:21:56.231Z","state":"queued","mode":"standard","creationDate":"2023-11-28T12:21:56.232Z","modificationDate":"2023-11-28T12:21:56.232Z","shortid":"cVXF4K6","$entitySet":"profiles"},"doDiffs":false,"timestamp":1701174116232,"id":"o5raue1y3yvypwi","previousOperationId":null,"operationId":"o7mqbx1sdylst23"}
{"type":"log","level":"info","message":"Render request 28 queued for execution and waiting for available worker","previousOperationId":"o7mqbx1sdylst23","timestamp":1701174116232,"id":"s5vbzgh94o6wbmp"}
{"type":"operationStart","subtype":"render","name":"pns_index","previousOperationId":"o7mqbx1sdylst23","timestamp":1701174116238,"id":"7lfrnim2g5s5qog","previousEventId":"o5raue1y3yvypwi","operationId":"1jgndr8wqhvvnhc"}
{"type":"log","timestamp":1701174116239,"level":"info","message":"Starting rendering request 28","meta":{"rootId":"3hjzry3umzph6mh","id":"3hjzry3umzph6mh"},"id":"cd3ub1fsq9ew4hf","previousOperationId":"1jgndr8wqhvvnhc"}
{"type":"log","timestamp":1701174116239,"level":"info","message":"Rendering template { name: pns_index, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"3hjzry3umzph6mh","id":"3hjzry3umzph6mh"},"id":"ibz48fqa4fjkt4h","previousOperationId":"1jgndr8wqhvvnhc"}
{"type":"log","timestamp":1701174116240,"level":"debug","message":"Inline data specified.","meta":{"rootId":"3hjzry3umzph6mh","id":"3hjzry3umzph6mh"},"id":"11r19palwmnwcuu","previousOperationId":"1jgndr8wqhvvnhc"}
{"type":"log","timestamp":1701174116242,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"3hjzry3umzph6mh","id":"3hjzry3umzph6mh"},"id":"xof44swt4ns32ho","previousOperationId":"1jgndr8wqhvvnhc"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1701174116242,"id":"b1yv9zo9ctlcswh","previousEventId":"7lfrnim2g5s5qog","operationId":"4dmxtot8kvmxsva","previousOperationId":"1jgndr8wqhvvnhc"}
{"type":"log","timestamp":1701174116242,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"3hjzry3umzph6mh","id":"3hjzry3umzph6mh"},"id":"g5m7ego1w5s3nyb","previousOperationId":"4dmxtot8kvmxsva"}
{"type":"log","timestamp":1701174116298,"level":"warn","message":"Error when processing render request 28\n(because) error when evaluating engine handlebars for template /PNS_slip/pns_index\n(because) if doesn't match kome_se_upucuje.fizicko_lice - 75:3\n\n(sandbox.js line 2914:18)\nError: if doesn't match kome_se_upucuje.fizicko_lice - 75:3\n  at validateClose (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars/compiler/helpers.js:28:11)\n  at Object.prepareBlock (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars/compiler/helpers.js:142:5)\n  at Object.anonymous (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars/compiler/parser.js:65:33)\n  at Parser.parse (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars/compiler/parser.js:367:48)\n  at parseWithoutProcessing (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars/compiler/base.js:46:33)\n  at HandlebarsEnvironment.parse (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars/compiler/base.js:52:13)\n  at Object.precompile (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars/compiler/compiler.js:485:17)\n  at hb.precompile (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars.js:42:40)\n  at Object.compile (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-handlebars/lib/handlebarsEngine.js:34:52)\n  at Object.compile (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-handlebars/lib/worker.js:26:43)\n  at executionFn (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:199:42)\n  at eval (sandbox.js:2914:18)\n  at async run (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/runInSandbox.js:195:14)\n  at async executeEngine (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:285:14)\n  at async engine.engine (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:115:14)\nwrapped by:\nError: Error when evaluating engine handlebars for template /PNS_slip/pns_index\n(because) if doesn't match kome_se_upucuje.fizicko_lice - 75:3\n  at module.exports (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/shared/createError.js:10:13)\n  at WorkerReporter.createError (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/shared/reporter.js:49:12)\n  at executeEngine (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:308:33)\n  at async engine.engine (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:115:14)\n  at async invokeRender (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:62:23)\n  at async WorkerReporter._render (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:147:7)\n  at async /Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/reporter.js:224:19\n  at async processAndResponse (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/advanced-workers/lib/workerHandler.js:41:17)","meta":{"rootId":"3hjzry3umzph6mh","id":"3hjzry3umzph6mh"},"id":"hq4t7vx6ukbcd82","previousOperationId":"4dmxtot8kvmxsva"}
{"type":"log","timestamp":1701174116298,"level":"warn","message":"Rendering request 28 finished with error in 67 ms","meta":{"rootId":"3hjzry3umzph6mh","id":"3hjzry3umzph6mh"},"id":"ykplka76w907a62","previousOperationId":"4dmxtot8kvmxsva"}
{"type":"error","timestamp":1701174116299,"entity":{"shortid":"gRvOEL7OcK","name":"pns_index","content":"<!DOCTYPE html>\n<html>\n<head>\n<title>Page Title</title>\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\">\n<style>\n    body{\n        padding: 0;\n        margin: 0;\n    }\n    h1, h2 {\n        text-align: center;\n        padding: 0;\n        margin: 0;\n    }\n    h1 {\n        font-size: 18px;\n        margin-top: 10px;\n    }\n    h2{\n        font-size: 16px;\n        letter-spacing: -1px;\n    }\n    h4{\n        font-size: 16px;\n        pading: 0;\n        margin:0;\n        display: inline;\n    }\n    .protiv {\n        padding: 10px;\n    }\n    .zaglavlje{\n        padding: 10px;\n        background-color: #80c1f2;\n        text-align: justify;\n        line-height: 16px;\n    }\n    .uplata {\n        padding: 10px;\n        background-color: #80c1f2;\n    }\n    .cinjenicni-opis {\n        padding: 10px;\n        padding-top: 0;\n        word-break: break-all;\n    }\n    .cinjenicni-opis h3{\n        padding: 0;\n        margin: 0;\n        text-align: center;\n        text-indent: -1;\n        text-transform: uppercase;\n    }\n    .dodaci, .zakonska_odredba {\n        word-break: break-all;\n        padding: 10px;\n    }\n\n</style>\n</head>\n<body>\n<div class=\"zaglavlje\">\n    МУП Републике Србије, ПУ у {{pu}} СПИ, ПИ {{pi}}<br>\n    Идентификациони број: {{serijski_broj}}<br>\n    Дана : {{datum_podnosenja_zahteva}}год.<br>\n    на основу члана 168 и 169. Закона о прекршајима(\"Службени гласник РС\", бр 65/13, 13/16, 98/16 - УС, 91/19 - др.закон, 91/19, ???) издаје\n    <div class=\"naslov\">\n        <h1>ПРЕКРШАЈНИ НАЛОГ</h1>\n        <h2>ЗА ПРЕКРШАЈ УЧИЊЕН МОТОРНИМ ВОЗИЛОМ У САОБРАЋАЈУ</h2>\n    </div>\n</div>\n<div class=\"protiv\">\n<h4>ЛИЦУ:</h4>\n{{#if kome_se_upucuje.fizicko_lice}}\n<div class=\"okrivljeni_kontejner\">\n         {{okrivljeni.fizicko_lice.prezime}} ({{okrivljeni.fizicko_lice.ime_roditelja}}) {{okrivljeni.fizicko_lice.ime}},\n        ЈМБГ: {{okrivljeni.fizicko_lice.jmbg}}, Држављанин: {{drzavljanin}}<br>\n        Рођен/а: {{okrivljeni.fizicko_lice.rodjenje.datum}}. {{okrivljeni.fizicko_lice.rodjenje.drzava}} / {{okrivljeni.fizicko_lice.rodjenje.mesto}} / {{okrivljeni.fizicko_lice.rodjenje.opstina}}<br>\n        Возачка дозвола : {{okrivljeni.fizicko_lice.dozvola.kategorija}} категорије, број  {{okrivljeni.fizicko_lice.dozvola.broj}} , издата од {{okrivljeni.fizicko_lice.dozvola.izdata_od}}, возило регистарске ознаке {{okrivljeni.fizicko_lice.dozvola.registarski_broj}} са прикључним возилом регистарске ознаке {{okrivljeni.fizicko_lice.prikljucno_vozilo.registarski_broj}}, број саобраћајне дозволе {{okrivljeni.fizicko_lice.prikljucno_vozilo.dozvola_broj}}. \n</div>\n{{/kome_se_upucuje.fizicko_lice}}\n{{#if kome_se_upucuje.pravno_lice}}\n<div class=\"okrivljeni_kontejner\">\n    ПРАВНО ЛИЦЕ:  {{okrivljeni.pravno_lice.ime}}<br>\n    Адреса правног лица: {{okrivljeni.pravno_lice.prebivaliste.mesto}} / {{okrivljeni.pravno_lice.prebivaliste.opstina}} /{{okrivljeni.pravno_lice.prebivaliste.ulica}} ул.  {{okrivljeni.pravno_lice.prebivaliste.broj}}  сп.  {{okrivljeni.pravno_lice.prebivaliste.sprat}}  ст.  {{okrivljeni.pravno_lice.prebivaliste.stan}}  <br>\n    Мат.бр.:{{okrivljeni.pravno_lice.mat_broj}}<br>\n  </div>\n{{/kome_se_upucuje.pravno_lice}}\n{{#if kome_se_upucuje.preduzetnik}}\n<div class=\"okrivljeni_kontejner\">\n\n  NAZIV: {{okrivljeni.preduzetnik.naziv}} \n    PIB: {{okrivljeni.preduzetnik.pib}}\n    MATICNI BROJ: {{okrivljeni.preduzetnik.mat_broj}}\n   ({{okrivljeni.preduzetnik.ime_roditelja}}) {{okrivljeni.preduzetnik.ime}}, ЈМБГ: {{okrivljeni.preduzetnik.jmbg}}<br>\n    Држављанство: РЕПУБЛИКА СРБИЈА<br>\n    Рођен/а: {{okrivljeni.preduzetnik.rodjenje.datum}}. {{okrivljeni.preduzetnik.rodjenje.drzava}} / {{okrivljeni.preduzetnik.rodjenje.mesto}} / {{okrivljeni.preduzetnik.rodjenje.opstina}}<br>\n    Седиште: {{okrivljeni.preduzetnik.prebivaliste.mesto}} / {{okrivljeni.preduzetnik.prebivaliste.opstina}} /{{okrivljeni.preduzetnik.prebivaliste.ulica}} ул.  {{okrivljeni.preduzetnik.prebivaliste.broj}}  сп.  {{okrivljeni.preduzetnik.prebivaliste.sprat}}  ст.  {{okrivljeni.preduzetnik.prebivaliste.stan}}  <br>\n    </div>\n{{/kome_se_upucuje.preduzetnik}}\n{{#if kome_se_upucuje.odgovorno_lice}}\n<div class=\"okrivljeni_kontejner\">\n    {{okrivljeni.odgovorno_lice.prezime}} ({{okrivljeni.odgovorno_lice.ime_roditelja}}) {{okrivljeni.odgovorno_lice.ime}}, ЈМБГ: {{okrivljeni.odgovorno_lice.jmbg}}<br>\n    Држављанство:{{okrivljeni.odgovorno_lice.prezime}}<br>\n    Рођен/а: {{okrivljeni.odgovorno_lice.rodjenje.datum}}. {{okrivljeni.odgovorno_lice.rodjenje.drzava}} / {{okrivljeni.odgovorno_lice.rodjenje.mesto}} / {{okrivljeni.odgovorno_lice.rodjenje.opstina}}<br>\n    Пребивалиште: {{okrivljeni.odgovorno_lice.prebivaliste.mesto}} / {{okrivljeni.odgovorno_lice.prebivaliste.opstina}} /{{okrivljeni.odgovorno_lice.prebivaliste.ulica}} ул.  {{okrivljeni.odgovorno_lice.prebivaliste.broj}}  сп.  {{okrivljeni.odgovorno_lice.prebivaliste.sprat}}  ст.  {{okrivljeni.odgovorno_lice.prebivaliste.stan}}  <br>\n    Занимање:  {{okrivljeni.odgovorno_lice.zaposlenje.zaposlenje}}  <br>\n    Место и адреса запослења: {{okrivljeni.odgovorno_lice.zaposlenje.adresa}} <br>\n    Funkcija koju obavlja u pravnom licu : {{okrivljeni.odgovorno_lice.zaposlenje.funkcija}}<br>\n        \n</div>\n{{/kome_se_upucuje.odgovorno_lice}}\n</div>\n<div class=\"cinjenicni-opis\">\n<h3>Чињенични опис:</h3>\n{{cinjenicni_opis}}\n</div>\n<div class=\"zakonska_odredba\"> \n    <b>Прекршај откривен:</b> {{prekrsaj_otkriven}}<br>\n    <b>Докази:</b>{{dokazi}}<br>\n    <b>Прилози:</b>{{prilozi}}<br>\n    Чиме је учињен прекршај\n        {{#okrivljeni.odgovorno_lice.zakonska_odredba}}\n            ИЗ ЧЛАНА {{clan}}, СТАВ {{clan}}, ТАЧКА {{tacka}}, {{zakon}}<br>\n        {{/okrivljeni.odgovorno_lice.zakonska_odredba}}\n        {{#okrivljeni.preduzetnik.zakonska_odredba}}\n            ИЗ ЧЛАНА {{clan}}, СТАВ {{clan}}, ТАЧКА {{tacka}}, {{zakon}}<br>\n        {{/okrivljeni.preduzetnik.zakonska_odredba}}\n        {{#okrivljeni.pravno_lice.zakonska_odredba}}\n            ИЗ ЧЛАНА {{clan}}, СТАВ {{clan}}, ТАЧКА {{tacka}}, {{zakon}}<br>\n        {{/okrivljeni.pravno_lice.zakonska_odredba}}\n    (Сл.гласник Републике Србије,бр. 41/09, 53/10, 101/11, 32/13 - одлука YC, 55/14, 96/15 - др.закон, 9/16 - одлука УС,\n     24/18, 41/18, 41/18 - др.закон, 87/18, 23/19 и 128/20 - др.закон)\n        За који се изриче новчана казна у износу од {{kazna.novcana_kazna}} динара(РСД).<br>\n        ПРОЧИТАТИ ПОУКЕ И УПОЗОРЕЊА на полеђини\n</div>\n<div class=\"uplata\">\n    Уплатити извршити у корист: БУЏЕТ РЕПЗБЛИКЕ СРБИЈЕ, у сврху плаћања: \n    УПЛАТА ПО ПРЕКРШАЈНОМ НАЛОГУ БРОЈ {{serijski_broj}} на рачун број {{racun.broj}} poziv {{racun.poziv_na_broj}} model {{racun.model}}\n</div>\n<div class=\"dodaci\">\n    {{#drugi_prekrsajni_nalog.prisutan}}\n        Да се поводом истог прекршаја издаје другом лицу прекршајни налог: ДА, број налога: {{drugi_prekrsajni_nalog.broj}}\n    {{/drugi_prekrsajni_nalog.prisutan}}\n    Лично уручено \n    {{#uruceno_licno}}\n        ДА \n    {{/uruceno_licno}}\n    {{^uruceno_licno}}\n        НЕ\n    {{/uruceno_licno}}\n    датум уручења {{datum_urucenja}}\n    Уручено путем поште \n    {{#uruceno_putem_poste}}\n        ДА \n    {{/uruceno_putem_poste}}\n    {{^uruceno_putem_poste}}\n        НЕ\n    {{/uruceno_putem_poste}}\n    Датум заказаног претреса {{pretres.datum}}\n    време {{pretres.vreme}}\n    Прекршајни суд у {{prekrsajni_sud}}\n    Забелешка службеног лица: {{beleska_sluzbenog_lica}}\n</div>\n<div class=\"footer\">\n    <div>(потпис службеног лица и печат овлашћеног органа)<br></div>\n    <div>OВЛАШЋЕНИ ПОДНОСИЛАЦ ЗАХТЕВА</div>\n</div>\n</body>\n</html>"},"lineNumber":75,"property":"content","statusCode":400,"weak":true,"logged":true,"previousOperationId":"4dmxtot8kvmxsva","id":"0xexu7rxfnbjuzs","stack":"Error: if doesn't match kome_se_upucuje.fizicko_lice - 75:3\n  at validateClose (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars/compiler/helpers.js:28:11)\n  at Object.prepareBlock (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars/compiler/helpers.js:142:5)\n  at Object.anonymous (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars/compiler/parser.js:65:33)\n  at Parser.parse (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars/compiler/parser.js:367:48)\n  at parseWithoutProcessing (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars/compiler/base.js:46:33)\n  at HandlebarsEnvironment.parse (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars/compiler/base.js:52:13)\n  at Object.precompile (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars/compiler/compiler.js:485:17)\n  at hb.precompile (/Users/lukamata/Projects/factory/jsreport/node_modules/handlebars/dist/cjs/handlebars.js:42:40)\n  at Object.compile (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-handlebars/lib/handlebarsEngine.js:34:52)\n  at Object.compile (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-handlebars/lib/worker.js:26:43)\n  at executionFn (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:199:42)\n  at eval (sandbox.js:2914:18)\n  at async run (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/runInSandbox.js:195:14)\n  at async executeEngine (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:285:14)\n  at async engine.engine (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:115:14)\nwrapped by:\nError: Error when evaluating engine handlebars for template /PNS_slip/pns_index\n(because) if doesn't match kome_se_upucuje.fizicko_lice - 75:3\n  at module.exports (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/shared/createError.js:10:13)\n  at WorkerReporter.createError (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/shared/reporter.js:49:12)\n  at executeEngine (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:308:33)\n  at async engine.engine (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:115:14)\n  at async invokeRender (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:62:23)\n  at async WorkerReporter._render (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:147:7)\n  at async /Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/jsreport-core/lib/worker/reporter.js:224:19\n  at async processAndResponse (/Users/lukamata/Projects/factory/jsreport/node_modules/@jsreport/advanced-workers/lib/workerHandler.js:41:17)","message":"Error when evaluating engine handlebars for template /PNS_slip/pns_index\n(because) if doesn't match kome_se_upucuje.fizicko_lice - 75:3\n\n(sandbox.js line 2914:18)"}
